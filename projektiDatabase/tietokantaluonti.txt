DROP DATABASE IF EXISTS RESEPTIHAKU;
CREATE DATABASE RESEPTIHAKU;
USE RESEPTIHAKU;
CREATE TABLE Reseptit
(
  ReseptiId INT AUTO_INCREMENT NOT NULL,
  nimi VARCHAR(255) NOT NULL,
  resepti VARCHAR(255) NOT NULL,
  vegaaninen INT NOT NULL,
  laktoositon INT NOT NULL,
  gluteeniton INT NOT NULL,
  PRIMARY KEY (ReseptiId)
);

CREATE TABLE Ainesosat
(
  AinesosaId INT AUTO_INCREMENT NOT NULL,
  Nimi VARCHAR(255) NOT NULL,
  PRIMARY KEY (AinesosaId)
);
CREATE TABLE Kuuluu
(
  KId INT AUTO_INCREMENT NOT NULL,
  Rid INT NOT NULL REFERENCES Reseptit(ReseptiId),
  Aid INT NOT NULL REFERENCES Ainesosat(AinesosaId),
  PRIMARY KEY (KId),
  FOREIGN KEY (Rid) REFERENCES Reseptit(ReseptiId),
  FOREIGN KEY (Aid) REFERENCES Ainesosat(AinesosaId)
);

